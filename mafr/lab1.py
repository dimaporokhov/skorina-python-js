from math import log, sqrt

# prices = {'10-09-2021': 326.43,
#           '13-09-2021': 331.0,
#           '14-09-2021': 339.0,
#           '15-09-2021': 342.6,
#           '16-09-2021': 339.41,
#           '17-09-2021': 334.5,
#           '20-09-2021': 326.32,
#           '21-09-2021': 334,
#           '22-09-2021': 338.99,
#           '23-09-2021': 343.47,
#           '24-09-2021': 344.29,
#           '27-09-2021': 351.05,
#           '28-09-2021': 356.67,
#           '29-09-2021': 358.5,
#           '30-09-2021': 361.54,
#           '01-10-2021': 363.25}


prices = {'10-09-2021': 332.75,
          '13-09-2021': 338.98,
          '14-09-2021': 343.34,
          '15-09-2021': 338.5,
          '16-09-2021': 334.5,
          '17-09-2021': 325.7,
          '20-09-2021': 335.3,
          '21-09-2021': 340.59,
          '22-09-2021': 343.47,
          '23-09-2021': 344.29,
          '24-09-2021': 355.19,
          '27-09-2021': 354.07,
          '28-09-2021': 360.88,
          '29-09-2021': 360.8,
          '30-09-2021': 363.25,
          '01-09-2021': 376.06}

prices_lst = list(prices.values())

N = 10
h = [log(prices_lst[i] / prices_lst[i+1]) for i in range(N)]


T = sum(h) / N
S2 = sum(el**2 - 2*el*T + T**2 for el in h) / (N - 1)
S = sqrt(S2)

En = 1 #sgsdf
Hn = T + S * En

h_extra = [log(prices_lst[i] / prices_lst[i+1]) for i in range(N + 1, len(prices_lst) - 1)]
print(S2)
print(S)
print(h_extra)
